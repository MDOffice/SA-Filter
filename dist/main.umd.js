!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("jQuery")):"function"==typeof define&&define.amd?define("SAFilter",["jQuery"],e):"object"==typeof exports?exports.SAFilter=e(require("jQuery")):t.SAFilter=e(t.jQuery)}(self,(function(t){return function(){"use strict";var e={609:function(e){e.exports=t}},n={};function o(t){var r=n[t];if(void 0!==r)return r.exports;var i=n[t]={exports:{}};return e[t](i,i.exports,o),i.exports}o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};return function(){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}o.r(r),o.d(r,{getOpts:function(){return d},setDefaults:function(){return c}}),o(609);var e=function e(n){var o;if(null==n||"object"!=t(n))return n;if(n instanceof Date)return(o=new Date).setTime(n.getTime()),o;if(n instanceof Array){o=[];for(var r=0,i=n.length;r<i;r++)o[r]=e(n[r]);return o}if(n instanceof Object){for(var a in o={},n)n.hasOwnProperty(a)&&(o[a]=e(n[a]));return o}throw new Error("Unable to copy obj! Its type isn't supported.")},n=function(t){throw t=(t=t.replace(/ +(?= )/g,"")).trim(),"SAFilter: ".concat(t)},i=function(t){if("[object Object]"!==Object.prototype.toString.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype};function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var l={btn_class:null,title:null,title_always:!1,ALL:null,clear_text:null,submit:null,submit_text:null,initDatepicker:null},s=Object.assign({},l),c=function(t){s=Object.assign({},l,t)},u=function(t){return o=(e=t+1)%100,"".concat(e,1==(n=e%10)&&11!==o?"st":2===n&&12!==o?"nd":3===n&&13!==o?"rd":"th");var e,n,o},p=function(t,e){n("".concat(u(e)," argument ('").concat(t,"') is invalid"))},f=function(t,e){var o=t+1,r=e[o];i(r)||void 0===r||n("Expected ".concat(u(o)," argument ('").concat(r,"') to be a plain object"))},h=function(t,e,o,r){var l=a(e),s=e instanceof Element;if("string"===l){if(0===o)return{text:e};if(1===o)return{text:e,title:r[0]};if(2===o)return f(o,r),{icon:e};p(e,o)}else{if(s&&0===o)return f(o,r),{content:e};if(i(e))return function(t,e){var o=t+1,r=e[o];void 0!==r&&n("Unexpected ".concat(u(o)," argument (").concat(r,")"))}(o,r),e;p(e,o)}},d=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o={};e.forEach((function(t,n){var r=h(0,t,n,e);Object.assign(o,r)}));var r=Object.assign({},l,s,o);return r},y=o(609);function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(t,e){return!e||"object"!==b(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(a,t);var e,n,o,r,i=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=S(o);if(r){var n=S(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return w(this,t)});function a(){return g(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"validValue",value:function(t){return!1}},{key:"setValue",value:function(t){}},{key:"setEmptyValue",value:function(){}},{key:"getValue",value:function(){return null}},{key:"getValueLabel",value:function(){return null}},{key:"getValueTitle",value:function(){return null}},{key:"render",value:function(){return this.component}}])&&O(e.prototype,n),a}(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.triggers={}}var e,n;return e=t,(n=[{key:"_setTrigger",value:function(t,e){this.triggers.hasOwnProperty(t)||(this.triggers[t]=[]),this.triggers[t].push(e)}},{key:"on",value:function(t,e){var n=this;return"object"===m(t)?y.each(t,(function(t,e){n._setTrigger(t,e)})):this._setTrigger(t,e),this}},{key:"emit",value:function(t){var e=!1,n=this.triggers[t];if(n)for(var o in n)n.hasOwnProperty(o)&&(n[o](),e=!0);return e}}])&&v(e.prototype,n),t}()),x=o(609);function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function R(t,e){return!e||"object"!==j(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var E="icon-search4",B="icon-cancel-circle2",A=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}(a,t);var e,n,o,r,i=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=T(o);if(r){var n=T(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return R(this,t)});function a(){return P(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"_init",value:function(){var t=this;this.component=x(t.template()),this.container=t.component.find(".sa-filter-list-scroll"),this.elements=[],t.elements=this.props.originOptions.map((function(t,e){var n=x(e);return{value:n.attr("value"),title:n.attr("title"),label:n.html(),active:n.prop("selected"),disabled:n.prop("disabled")}})).get(),this.refresh(),x(this.component).on("click",".select-list-item:not(.disabled), .check-list-item:not(.disabled)",(function(e){console.log("inputParent:click"),e.preventDefault(),e.stopPropagation(),t.handleChange(this),t.props.clearAlways&&t.refresh()})),x(this.component).on("change",".check-list-item input",(function(){console.log("input:change"),this.checked=!this.checked,t.handleChange(x(this).closest(".check-list-item").get(0)),t.props.clearAlways&&t.refresh()})),x(this.component).on("click",".check-list-item:not(.disabled) input",(function(t){console.log("input:click"),t.stopPropagation()})),x(this.component).on("click",".clear-all",(function(e){e.preventDefault(),e.stopPropagation(),t.handleClear()})),x(this.component).on("click",".clear-field",(function(){t.handleSearchClear(this)})),this.props.search&&x(this.component).on("keyup","#"+this.props.search.id,(function(){t.handleSearchChange(this)}))}},{key:"handleChange",value:function(t){}},{key:"handleClear",value:function(){this.setEmptyValue(),this.emit("change"),this.refresh()}},{key:"handleSearchClear",value:function(t){x(t).prev().val(""),x(t).addClass(E).removeClass("clear-field "+B),this.state.hide=this.props.hide||"0",this.refresh()}},{key:"handleSearchChange",value:function(t){var e=this,n=x(t),o=String(n.val()).toLowerCase();if(o.length<0)n.next().addClass(E).removeClass("clear-field "+B),e.state.hide=this.props.hide||"0",e.refresh();else{n.next().removeClass(E).addClass("clear-field "+B);var r,i=[];if(e.props.search.url){var a={q:o};e.props.search.urlCache&&(a.cache=Math.random()),x.ajax({url:e.props.search.url,dataType:"json",data:a,async:!1,success:function(t){x.each(t.items,(function(t,n){r=1===e.elements.filter((function(t){return t.value===n.id&&t.active})).length,i.push({value:n.value,label:n.label,active:r,disabled:!1})})),e.state.hide=t.hide||"0"}})}else x.each(e.elements,(function(t,e){(e.label.toLowerCase().indexOf(o)>-1||e.value.toLowerCase().indexOf(o)>-1)&&i.push(e)})),e.state.hide=0;e.container.empty(),0===i.length?(e.container.find(".more-criteria-footer").remove(),e.container.html('<li class="no-suggestions">'+e.props.search.noMatchText+"</li>")):e.refresh(i)}}},{key:"getValue",value:function(){return this.props.value}},{key:"getValueLabel",value:function(){return this.elements.filter((function(t){return t.active})).map((function(t){return t.label?t.label:t.value})).join(", ")}},{key:"getValueTitle",value:function(){return this.elements.filter((function(t){return t.active})).map((function(t){return t.title?t.title:t.label})).join("\n")}},{key:"refresh",value:function(t){}},{key:"render",value:function(){return this.component}},{key:"template",value:function(){var t="";return this.props.search&&this.props.search.visible&&(t+=this.templateSearch()),t+'<div class="sa-filter-list" tabindex="-1"><div id="'+this.props.containerId+'" class="sa-filter-list-scroll" tabindex="-1"></div></div>'}},{key:"templateSearch",value:function(){return'<div class="sa-filter-search"><input autocomplete="off" aria-autocomplete="list" placeholder="'+this.props.search.placeholder+'" class="form-control" id="'+this.props.search.id+'" aria-controls="'+this.props.containerId+'"><span class="icon-default '+E+' noloading"></span></div>'}},{key:"templateList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return'<ul class="'.concat(t?" selected-group":"",'" />')}},{key:"templateClearButton",value:function(){if(this.props.clearTitle)return'<li class="sa-filter-group-actions"><a href="#" class="clear-all">'+this.props.clearTitle+"</a></li>"}}])&&V(e.prototype,n),a}(_),L=o(609);function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function M(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function D(t,e){return(D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function N(t,e){return!e||"object"!==I(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function F(t){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D(t,e)}(a,t);var e,n,o,r,i=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=F(o);if(r){var n=F(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return N(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this)).props=t,e.props.value=t.value||"",e.state={hide:t.hide},e._init(),e}return e=a,(n=[{key:"handleChange",value:function(t){var e=L(t),n=e.attr("data-value"),o=!0;if(L.each(this.elements,(function(t,e){e.value===n&&(o=!1)})),o){var r=e.attr("title"),i=e.find("label").html();this.elements.push({value:n,title:r,label:i,active:!0}),this.props.originOptions.parent().append('<option value="'.concat(n,'" title="').concat(r,'">').concat(i,"</option>"))}this.setValue(n),this.emit("change")}},{key:"validValue",value:function(t){return this.container.find(".select-list-item").filter('[data-value="'+t+'"]').length>0||""===t}},{key:"setValue",value:function(t){var e=this;if(this.resetOption&&(this.resetOption.remove(),this.resetOption=null),this.props.value=t||"",this.container.find(".select-list-item").filter(".active").removeClass("active"),L.each(this.elements,(function(t,n){n.active=n.value===e.props.value})),null!==t){var n=this.container.find(".select-list-item").filter('[data-value="'+t+'"]');n.length&&n.addClass("active")}else this.refresh();this.validValue(this.props.value)&&this.props.originSelect.val(this.props.value),this.props.originSelect.get(0).dispatchEvent(new Event("change"))}},{key:"setEmptyValue",value:function(){this.setValue(null),this.resetOption||(this.resetOption=this.props.originSelect.after(L('<input type="hidden" name="'.concat(this.props.name,'" value="null">'))))}},{key:"refresh",value:function(t){var e=this,n=L(this.templateList());if(t)L.each(t,(function(t,o){n.append(e.templateListItem(o))}));else{var o=!1;L.each(this.elements,(function(t,r){r.active&&(o=!0),n.append(e.templateListItem(r))})),o&&""!=e.props.clearTitle&&n.prepend(this.templateClearButton())}e.container.empty(),n.length>0&&e.container.append(n),this.container.find(".more-criteria-footer").remove(),this.state.hide&&"0"!==this.state.hide&&this.container.append('<div class="more-criteria-footer">...'.concat(this.props.exclude,' <span class="hidden-no">').concat(this.state.hide,"</span> ").concat(this.props.hidden,"</div>"))}},{key:"templateListItem",value:function(t){return'<li class="select-list-item'.concat(t.active?" active":"",'" title="').concat(t.title||"",'" data-value="').concat(t.value,'"><label class="item-label">').concat(t.label,"</label></li>")}}])&&M(e.prototype,n),a}(A),q=o(609);function U(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var H=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.props=e,this.container=this.templateContainer(),this.refresh()}var e,n;return e=t,(n=[{key:"refresh",value:function(){this.container.html(this.templateContent())}},{key:"setValue",value:function(t,e){this.props.labelValue=t,this.props.title=e,this.refresh()}},{key:"render",value:function(){return this.container}},{key:"templateContainer",value:function(){return q('<button type="button" data-toggle="dropdown" aria-controls="'+this.props.id+'" class="btn btn-xs '+(this.props.className||"btn-default")+'" />')}},{key:"templateContent",value:function(){var t="",e=this.props.labelValue&&""!==this.props.labelValue;return t+='<div class="criteria-wrap" title="'+(this.props.title||"")+'">',e&&!this.props.labelAlways||(t+='<span class="fieldLabel">'+this.props.label+":</span> "),console.log(e?"labelValue":"labelAll"),t+=e?this.props.labelValue:this.props.labelAll,(t+=' <span class="caret" />')+"</div>"}}])&&U(e.prototype,n),t}(),z=o(609);function G(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var J=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.props=e,this.init()}var n,o;return n=t,(o=[{key:"init",value:function(){var t=this;this.blocks=[],this.initValue="",this.container=z(this.templateContainer()),this.form=this.container.find("form"),this.container.on("click",".submit-footer",(function(){t.props.onSubmit()}))}},{key:"addBlock",value:function(t){var e=this,n="_"+Math.round(Math.random()%10*Math.pow(10,10));this.setInitValue(t),this.blocks.push(n),this.blocks[n]=t,t.on("change",(function(){e.setComponentValue(n)})),this.form.append(t.render())}},{key:"setInitValue",value:function(t){var n=e(t.getValue());n&&(n instanceof Array&&n!==[]||"string"==typeof n&&""!==n)&&(this.initValue=n,t.validValue(n)&&(this.value=n,this.props.onChange(t.getValueLabel(),t.getValueTitle())))}},{key:"setComponentValue",value:function(t){var e=this.blocks[t],n=e.getValue()||"";if(console.log("Dropdown.setComponentValue",n),""!==n)for(var o=0,r=this.blocks.length;o<r;o++){var i=this.blocks[o];i!==t&&this.blocks[i].setValue(null)}else e.setEmptyValue();this.value=n,this.showSubmit(!function(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(t.length!=e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}(this.initValue,n)),this.props.onChange(e.getValueLabel(),e.getValueTitle())}},{key:"resetToInitValue",value:function(){if(this.initValue!==this.value)for(var t=0,e=this.blocks.length;t<e;t++){var n=this.blocks[t],o=this.blocks[n];o.validValue(this.initValue)&&(o.setValue(this.initValue),this.setComponentValue(n))}}},{key:"render",value:function(){return this.container}},{key:"showSubmit",value:function(t){this.container.find(".submit-footer").toggle(t)}},{key:"templateContainer",value:function(){var t="";return t+='<div id="'+this.props.id+'" class="sa-filter-form  dropdown-menu">',t+='<form onsubmit="return false"></form>',this.props.submitText&&(t+='<div class="submit-footer" style="display:none">'+this.props.submitText+"</div>"),t+"</div>"}}])&&G(n.prototype,o),t}(),K=o(609);function W(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var X=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.opts=n,this.containerId=t.makeId(),this.component=K(e),this.props={btnClass:this.component.attr("data-btn-class"),title:this.component.attr("data-title"),titleAlways:"1"==this.component.attr("data-title-always"),titleAll:this.component.attr("data-title-all")||this.component.attr("data-all"),clearTitle:this.component.attr("data-clear"),submit:this.component.attr("data-submit"),submit_text:this.component.attr("data-submit-text")},this.createButton(),this.createDropdownController(),this.assignEvents(),this.render()}var e,n,o;return e=t,o=[{key:"makeId",value:function(){return"_"+Math.round(Math.random()%10*Math.pow(10,10))}}],(n=[{key:"createButton",value:function(){this.button=new H({id:this.containerId+"-dropdown",className:this.props.btnClass,label:this.props.title,labelAlways:this.props.titleAlways,labelAll:this.props.titleAll})}},{key:"createDropdownController",value:function(){var t=this;this.dropdown=new J({id:this.containerId+"-dropdown",submitText:this.props.submit_text,onChange:function(e,n){t.button.setValue(e,n)},onSubmit:function(){t.onSubmitProcess=!0,new Function("",t.props.submit)()}})}},{key:"assignEvents",value:function(){var t=this;this.component.on("hidden.bs.dropdown",(function(){console.log("hidden.bs.dropdown"),t.props.submit&&!t.onSubmitProcess&&t.dropdown.resetToInitValue(),t.onSubmitProcess&&(t.onSubmitProcess=!1)}))}},{key:"render",value:function(){this.component.append(this.button.render()),this.component.append(this.dropdown.render())}}])&&W(e.prototype,n),o&&W(e,o),t}();function Y(t){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function $(t,e){return($=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tt(t,e){return!e||"object"!==Y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function et(t){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var nt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$(t,e)}(a,t);var e,n,o,r,i=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=et(o);if(r){var n=et(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return tt(this,t)});function a(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,t,e)).readOptions(),n}return e=a,(n=[{key:"readOptions",value:function(){this.originSelect=this.component.find("select"),this.originOptions=this.originSelect.find("option"),this.props=Object.assign(this.props,{name:this.originSelect.attr("name"),value:this.originSelect.val(),clearAlways:"1"==this.component.attr("data-clear-always"),ignoreSelectedList:"1"==this.component.attr("data-selected-ignore"),hide:this.originSelect.attr("data-hide")||"0",searchPlaceholder:this.component.attr("data-search"),nomatch:this.component.attr("data-nomatch"),url:this.component.attr("data-url"),urlCache:this.component.attr("data-urlCache"),exclude:this.component.attr("data-exclude"),hidden:this.component.attr("data-hidden"),selectAllTitle:this.component.attr("data-selectAll-title")})}}])&&Z(e.prototype,n),a}(X);function ot(t){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function it(t,e){return(it=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function at(t,e){return!e||"object"!==ot(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lt(t){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var st=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&it(t,e)}(a,t);var e,n,o,r,i=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=lt(o);if(r){var n=lt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return at(this,t)});function a(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,t,e)).createBlocks(),n.additionAssignEvent(),n}return e=a,(n=[{key:"createBlocks",value:function(){this.blockSingleSelect=new Q({name:this.props.name,value:this.props.value,originSelect:this.originSelect,originOptions:this.originOptions,containerId:this.containerId+"-suggestion",search:{visible:!!this.props.searchPlaceholder,id:this.containerId+"-search",placeholder:this.props.searchPlaceholder?this.props.searchPlaceholder+"...":null,noMatchText:this.props.nomatch,url:this.props.url,urlCache:"1"==this.props.urlCache},clearTitle:this.props.clearTitle,clearAlways:this.props.clearAlways,hide:this.props.hide,exclude:this.props.exclude,hidden:this.props.hidden}),this.dropdown.addBlock(this.blockSingleSelect)}},{key:"additionAssignEvent",value:function(){var t=this;this.component.get(0).addEventListener("shown.bs.dropdown",(function(){t.blockSingleSelect.refresh()}))}}])&&rt(e.prototype,n),a}(nt),ct=o(609);function ut(t){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ft(t,e){return(ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ht(t,e){return!e||"object"!==ut(e)&&"function"!=typeof e?dt(t):e}function dt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yt(t){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var mt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ft(t,e)}(a,t);var e,n,o,r,i=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=yt(o);if(r){var n=yt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ht(this,t)});function a(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this)).props=t,e.props.value=t.value||[],e.state={hide:t.hide},e._init();var n=dt(e);return ct(e.component).on("click",".select-all",(function(t){t.preventDefault(),t.stopPropagation(),n.handleSelectAll()})),e}return e=a,(n=[{key:"handleChange",value:function(t){var e=ct(t),n=e.find("input"),o=n.val(),r=!n.is(":checked"),i=!0;if(ct.each(this.elements,(function(t,e){e.value===o&&(i=!1)})),i){var a=e.attr("title")||"",l=e.find("label").text();this.elements.push({value:o,title:a,label:l,active:!0,disabled:!1}),this.props.originSelect.append('<option value="'.concat(o,'" title="').concat(a,'" selected>').concat(l,"</option>"))}var s=this.getValue();1===s.length&&s.indexOf(o)>-1&&!r?this.setEmptyValue():this.setValue(o,r),this.emit("change")}},{key:"validValue",value:function(t){return t instanceof Array||this.container.find(".check-list-item").find('input[value="'+t+'"]').length>0||""===t}},{key:"setValue",value:function(t,e){var n,o=this.props.value.indexOf(t);this.resetOption&&(this.resetOption.remove(),this.resetOption=null),t&&o<0&&e?this.props.value.push(t):t&&o>-1&&!e?this.props.value.splice(o,1):null===t&&(this.props.value=[]),ct.each(this.elements,(function(n,o){null===t?o.active=!1:0==o.disabled&&o.value===t&&(o.active=e)})),null!==t?(n=this.container.find(".check-list-item").find('input[value="'+t+'"]')).length&&n.prop("checked",e):(n=this.container.find(".check-list-item").find("input:checked")).length&&n.prop("checked",!1),this.validValue(t)&&this.props.originOptions.filter('[value="'+t+'"]').prop("selected",e),this.props.originSelect.get(0).dispatchEvent(new Event("change"))}},{key:"setEmptyValue",value:function(){this.props.originSelect.val(""),this.setValue(null),this.resetOption||(this.resetOption=ct('<input type="hidden" name="'+this.props.name+'" value="null">'),this.props.originSelect.after(this.resetOption))}},{key:"handleSelectAll",value:function(){var t=this;ct.each(this.elements,(function(e,n){t.setValue(n.value,!0)})),this.emit("change"),this.refresh()}},{key:"refresh",value:function(t){var e,n=this,o=ct(this.templateList()),r=ct(this.templateList(!0));if(t)ct.each(t,(function(t,e){e.active&&!n.props.ignoreSelectedList?r.append(n.templateListItem(e)):o.append(n.templateListItem(e))}));else{var i=!1;ct.each(this.elements,(function(t,e){e.active&&(i=!0),e.active&&!n.props.ignoreSelectedList?r.append(n.templateListItem(e)):o.append(n.templateListItem(e))})),i&&""!=this.props.clearTitle&&(e=ct(this.templateClearButton()))}this.container.empty(),this.props.selectAllTitle&&""!=this.props.selectAllTitle&&this.container.append(ct(this.templateSelectAllButton())),e&&this.container.append(e),r.length>0&&this.container.append(r),o.length>0&&this.container.append(o),this.container.find(".more-criteria-footer").remove(),this.state.hide&&"0"!==this.state.hide&&this.container.append('<div class="more-criteria-footer">...'.concat(this.props.exclude,' <span class="hidden-no">').concat(this.state.hide,"</span> ").concat(this.props.hidden,"</div>"))}},{key:"templateSelectAllButton",value:function(){return'<li class="sa-filter-group-actions"><a href="#" class="select-all">'+this.props.selectAllTitle+"</a></li>"}},{key:"templateListItem",value:function(t){return t.label&&t.value?'<li class="check-list-item'+(t.disabled?" disabled":"")+'"><label class="item-label" title="'+(t.title||"")+'"><input type="checkbox" tabindex="-1" value="'+t.value+'" '+(t.active?"checked":"")+(t.disabled?" disabled":"")+">"+t.label+"</label></li>":t.label?'<li class="sa-filter-item-label">'+t.label+"</li>":'<li class="sa-filter-item-divider"></li>'}}])&&pt(e.prototype,n),a}(A);function vt(t){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function gt(t,e){return(gt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ot(t,e){return!e||"object"!==vt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function wt(t){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var St=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gt(t,e)}(l,t);var e,n,o,r,i,a=(e=l,n=kt(),function(){var t,o=wt(e);if(n){var r=wt(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return Ot(this,t)});function l(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(n=a.call(this,t,e)).createBlocks(),n.additionAssignEvent(),n}return o=l,(r=[{key:"createBlocks",value:function(){this.blockMultiSelect=new mt({name:this.props.name,value:this.props.value,originSelect:this.originSelect,originOptions:this.originOptions,containerId:this.containerId+"-suggestion",search:{visible:!!this.props.searchPlaceholder,id:this.containerId+"-search",placeholder:this.props.searchPlaceholder?this.props.searchPlaceholder+"...":null,noMatchText:this.props.nomatch,url:this.props.url,urlCache:"1"==this.props.urlCache},clearTitle:this.props.clearTitle,clearAlways:this.props.clearAlways,ignoreSelectedList:this.props.ignoreSelectedList,hide:this.props.hide,exclude:this.props.exclude,hidden:this.props.hidden,selectAllTitle:this.props.selectAllTitle}),this.dropdown.addBlock(this.blockMultiSelect)}},{key:"additionAssignEvent",value:function(){var t=this;this.component.get(0).addEventListener("shown.bs.dropdown",(function(){t.blockMultiSelect.refresh()}))}}])&&bt(o.prototype,r),i&&bt(o,i),l}(nt),_t=(HTMLSelectElement,o(609));function xt(t){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Pt(t,e){return(Pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Vt(t,e){return!e||"object"!==xt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ct(t){return(Ct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Rt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pt(t,e)}(a,t);var e,n,o,r,i=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ct(o);if(r){var n=Ct(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Vt(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this)).name=t.name,e.value=t.value||"",e.title={min:t.title.min,max:t.title.max},e.error_date=t.error_date,e._init(),e}return e=a,(n=[{key:"_init",value:function(){var t=this;t.component=_t(t.template());var e=this.value;if(this.input=this.component.find('input[name="'+this.name+'"]'),e.indexOf(",")>-1){var n=e.substr(0,e.indexOf(",")),o=e.substr(e.indexOf(",")+1);this.component.find("#num-"+this.name+"-min").val(n),this.component.find("#num-"+this.name+"-max").val(o),this.input.val(this.value)}_t(t.component).on("keyup","input.text",(function(){t.handleChange(this)}))}},{key:"handleChange",value:function(t){var e=_t(t),n=e.attr("id")==="num-"+this.name+"-min"?"min":"max",o=this.value,r="",i="";console.log("oldFullValue",o),this.validValue(o)&&(r=o.substr(0,o.indexOf(",")),i=o.substr(o.indexOf(",")+1)),"min"===n?r=String(e.val()):i=String(e.val()),this.setValue(r+(r||i?",":"")+i),this.emit("change")}},{key:"validValue",value:function(t){return t.indexOf(",")>-1||""===t}},{key:"setValue",value:function(t){this.value=t||"",null===t&&this.component.find("input.text").val(null),this.input.prop("disabled",null===t),this.validValue(this.value)&&this.input.val(this.value)}},{key:"setEmptyValue",value:function(){this.input.prop("disabled",!1),this.input.val("null")}},{key:"getValue",value:function(){return this.value}},{key:"getValueLabel",value:function(){var t=this.value;if(this.validValue(t)){var e=t.substr(0,t.indexOf(",")),n=t.substr(t.indexOf(",")+1);t=""==e&&""==n?null:""==e?"< "+n:""==n?"> "+e:e+" - "+n}return t}},{key:"getValueTitle",value:function(){return null}},{key:"render",value:function(){return this.component}},{key:"renderInput",value:function(){return this.input}},{key:"template",value:function(){var t="";return t+='<div class="form-body"><div class="field-group aui-field-workratio">',t+='<input name="'+this.name+'" type="hidden" disabled>',t+='<div class="'+this.name+'-min"><label for="num-'+this.name+'-min">'+(this.title.min?this.title.min:"Min")+"</label>",t+='<input type="number" class="text" id="num-'+this.name+'-min">',t+="</div>",t+='<div class="'+this.name+'-max"><label for="num-'+this.name+'-max">'+(this.title.max?this.title.max:"Max")+"</label>",t+='<input type="number" class="text" id="num-'+this.name+'-max">',(t+="</div>")+"</div></div>"}}])&&jt(e.prototype,n),a}(_);function Tt(t){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Et(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Bt(t,e){return(Bt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function At(t,e){return!e||"object"!==Tt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Lt(t){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var It=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bt(t,e)}(a,t);var e,n,o,r,i=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Lt(o);if(r){var n=Lt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return At(this,t)});function a(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,t,e)).readOptions(),n.createBlocks(),n.additionRender(),n}return e=a,(n=[{key:"readOptions",value:function(){this.props=Object.assign(this.props,{name:this.component.attr("data-name"),value:this.component.attr("data-value"),min:this.component.attr("data-min"),max:this.component.attr("data-max"),type:this.component.attr("data-type")||"",title_min:this.component.attr("data-title-min"),title_max:this.component.attr("data-title-max")})}},{key:"createBlocks",value:function(){this.blockNumRange=new Rt({name:this.props.name,value:this.props.value,title:{min:this.props.title_min,max:this.props.title_max},error_date:"Значення початку не може бути більше закінчення"}),this.dropdown.addBlock(this.blockNumRange)}},{key:"additionRender",value:function(){this.component.append(this.blockNumRange.renderInput())}}])&&Et(e.prototype,n),a}(X),Mt=o(609);function Dt(t){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ft(t,e){return(Ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qt(t,e){return!e||"object"!==Dt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qt(t){return(qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ut=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ft(t,e)}(a,t);var e,n,o,r,i=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=qt(o);if(r){var n=qt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Qt(this,t)});function a(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this)).props=t,n.component=Mt(n._template()),n._init(e),n}return e=a,(n=[{key:"_init",value:function(t){var e=this,n=this,o=this.props.value||"";if(this.input=this.component.find('input[name="'+this.props.name+'"]'),o.indexOf(",")>-1){var r=o.substr(0,o.indexOf(",")),i=o.substr(o.indexOf(",")+1);this.component.find("#date-"+this.props.name+"-min").val(r),this.component.find("#date-"+this.props.name+"-max").val(i),this.input.val(this.props.value||""),this.component.prepend(this._templateClear())}this.datepicker=this.component.find(".date-picker"),t.initDatepicker&&t.initDatepicker(this.datepicker,(function(t){e.handleChange(t)})),this.component.on("click",".clear-all",(function(t){t.preventDefault(),t.stopPropagation(),e.handleClear()})),this.component.on("change",".date-picker",(function(){n.handleChange(this)}))}},{key:"handleChange",value:function(t){console.log("handleChange");var e=Mt(t),n=e.attr("id")==="date-"+this.props.name+"-min"?"min":"max",o=this.props.value||"",r="",i="",a="",l="",s="",c="";console.log("oldFullValue",o),this.validValue(o)&&(i=r=o.substr(0,o.indexOf(",")),l=a=o.substr(o.indexOf(",")+1)),"min"===n?i=String(e.val()):l=String(e.val()),i&&(s=i.substr(6,4)+i.substr(3,2)+i.substr(0,2)),l&&(c=l.substr(6,4)+l.substr(3,2)+l.substr(0,2)),i&&l&&s>c&&this.props.error_date?(setTimeout((function(){e.val("min"===n?r:a)}),0),alert(this.props.error_date)):(this.setValue(i+(i||l?",":"")+l),this.emit("change"))}},{key:"handleClear",value:function(){this.setValue(null),this.setEmptyValue(),this.emit("change")}},{key:"validValue",value:function(t){return t.indexOf(",")>-1||""===t}},{key:"setValue",value:function(t){console.log("setValue"),this.props.value=t||"",null===t&&this.component.find(".date-picker").val(null),this.input.prop("disabled",null===t),this.validValue(this.props.value)&&this.input.val(this.props.value)}},{key:"setEmptyValue",value:function(){this.input.prop("disabled",!1),this.input.val("null")}},{key:"getValue",value:function(){return this.props.value}},{key:"getValueLabel",value:function(){var t=this.props.value;if(this.validValue(t)){var e=t.substr(0,t.indexOf(",")),n=t.substr(t.indexOf(",")+1);t=""==e&&""==n?null:""==e?"< "+n:""==n?"> "+e:e+" - "+n}return t}},{key:"getValueTitle",value:function(){return null}},{key:"render",value:function(){return this.component}},{key:"renderInput",value:function(){return this.input}},{key:"_templateClear",value:function(){if(this.props.clearTitle)return'<li class="sa-filter-group-actions"><a href="#" class="clear-all">'.concat(this.props.clearTitle,"</a></li>")}},{key:"_template",value:function(){var t="";return t+='<div class="form-body"><div class="field-group aui-field-workratio">',t+='<input name="'+this.props.name+'" type="hidden" disabled>',t+='<div class="'+this.props.name+'-min"><label for="date-'+this.props.name+'-min">'+(this.props.title.min?this.props.title.min:"Min")+"</label>",t+='<input class="text date-picker" id="date-'+this.props.name+'-min">',t+="</div>",t+='<div class="'+this.props.name+'-max"><label for="date-'+this.props.name+'-max">'+(this.props.title.max?this.props.title.max:"Max")+"</label>",t+='<input class="text date-picker" id="date-'+this.props.name+'-max">',(t+="</div>")+"</div></div>"}}])&&Nt(e.prototype,n),a}(_);function Ht(t){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Gt(t,e){return(Gt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Jt(t,e){return!e||"object"!==Ht(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Kt(t){return(Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Wt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gt(t,e)}(a,t);var e,n,o,r,i=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Kt(o);if(r){var n=Kt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Jt(this,t)});function a(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,t,e)).readOptions(),n.createBlocks(),n.additionAssignEvent(),n.additionRender(),n}return e=a,(n=[{key:"readOptions",value:function(){var t=this.component.find("select");this.originSelect=t,this.originOptions=t.find("option"),this.props=Object.assign(this.props,{name:this.component.attr("data-name"),value:this.component.attr("data-value"),title_min:this.component.attr("data-min"),title_max:this.component.attr("data-max")})}},{key:"createBlocks",value:function(){this.blockDateRange=new Ut({name:this.props.name,value:this.props.value,title:{min:this.props.title_min,max:this.props.title_max},clearTitle:this.props.clearTitle,error_date:"Дата початку не може бути більше закінчення",initDatepicker:null},this.opts),this.dropdown.addBlock(this.blockDateRange),this.originOptions.length>0&&(this.blockSingleSelect=new Q({name:this.props.name,value:this.props.value,originSelect:this.originSelect,originOptions:this.originOptions,containerId:this.containerId+"-suggestion",clearTitle:this.props.clearTitle}),this.dropdown.addBlock(this.blockSingleSelect))}},{key:"additionAssignEvent",value:function(){var t=this;this.blockSingleSelect&&this.component.on("shown.bs.dropdown",(function(){t.blockSingleSelect.refresh()}))}},{key:"additionRender",value:function(){this.component.append(this.blockDateRange.renderInput())}}])&&zt(e.prototype,n),a}(X);document.addEventListener("DOMContentLoaded",(function(){for(var t=d(),e=document.getElementsByClassName("sa-filter-select"),n=0;n<e.length;n++)new st(e[n],t);for(var o=document.getElementsByClassName("sa-filter-multiselect"),r=0;r<o.length;r++)new St(o[r],t);for(var i=document.getElementsByClassName("sa-filter-num"),a=0;a<i.length;a++)new It(i[a],t);for(var l=document.getElementsByClassName("sa-filter-date"),s=0;s<l.length;s++)new Wt(l[s],t)}))}(),r}()}));